<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>json stringify</title>
</head>

<body>
  <script type="text/javascript">
    (function () {
      const o = { name: 'Lee', gender: 'male', age: 20 };

      // 객체 => JSON 형식 문자열
      const strObj = JSON.stringify(o);
      console.log(typeof strObj, strObj);
      // string {"name":"Lee","gender":"male","age":20}

      console.log('--------------------------');

      // 객체 => JSON 형식의 문자열 + prettify
      const strPrettyObj = JSON.stringify(o, null, 2);
      console.log(typeof strPrettyObj, strPrettyObj);
      /*
      3번째 인자에 2를 넣게되면 json 데이터가 정렬되어 string으로 반환됩니다.
      string {
        "name": "Lee",
        "gender": "male",
        "age": 20
      }
      */

      console.log('--------------------------');

      // replacer
      // 값의 타입이 Number이면 필터링되어 반환되지 않습니다.
      function filter(key, value) {
        // undefined: 반환하지 않습니다
        return typeof value === 'number' ? undefined : value;
      }

      // 객체 => JSON 형식의 문자열 + replacer + prettify
      const strFilteredObj = JSON.stringify(o, filter, 2);
      console.log(typeof strFilteredObj, strFilteredObj);
      /*
      string {
        "name": "Lee",
        "gender": "male"
      }
      */

      console.log('--------------------------');

      const arr = [1, 5, 'false'];

      // 배열 객체 => 문자열
      const strArray = JSON.stringify(arr);
      console.log(typeof strArray, strArray); // string [1,5,"false"]

      console.log('--------------------------');

      // replacer
      // 모든 값을 대문자로 변환된 문자열을 반환합니다
      function replaceToUpper(key, value) {
        return value.toString().toUpperCase();
      }

      // 배열 객체 => 문자열 + replacer
      const strFilteredArray = JSON.stringify(arr, replaceToUpper);
      console.log(typeof strFilteredArray, strFilteredArray); // string "1,5,FALSE"
    })();
  </script>
</body>

</html>